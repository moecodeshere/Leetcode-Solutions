class Solution {
    public List<String> findAndReplacePattern(String[] words, String pattern) {
        List<String> result =new ArrayList<>();
        for(String word :words){
            if(valid(word,pattern)==true){
                result.add(word);
            }
        }
        return result;
    }



    private boolean valid(String word, String pattern){
        HashMap<Character,Character> wtp =new HashMap<>();
         HashMap<Character,Character> ptw =new HashMap<>();
        for(int i=0 ;i<word.length();i++){
            char w=word.charAt(i);
            char p=pattern.charAt(i);
            if(wtp.containsKey(w)){
                if(wtp.get(w)!=p){
                    return false;
                }
            }
             else{wtp.put(w,p);}
            if(ptw.containsKey(p)){
                if(ptw.get(p)!=w){
                    return false;
                }
            }
            else{ptw.put(p,w);}
        }
        return true;
    }
}
